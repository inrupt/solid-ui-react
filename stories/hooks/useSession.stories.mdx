import { Meta, Source } from "@storybook/addon-docs/blocks";

<Meta title="Hooks/useSession" />

# useSession

A hook to access the current session from context, along with related values. Should be used within a [`SessionProvider`](/?path=/docs/authentication-session-provider).

```
const {
    session,
    sessionRequestInProgress,
    fetch,
    login,
    logout,
  } = useSession()
```

## Return Values

- `session`: the [Session](https://docs.inrupt.com/developer-tools/api/javascript/solid-client-authn-browser/classes/_session_.session.html) retrieved from context
- `sessionRequestInProgress`: a boolean indicating whether a session request (e.g. login) is currently in progress (true) or not (false)
- `fetch()`: the fetch method of the current session
- `login(options)`: function to [login](https://docs.inrupt.com/developer-tools/api/javascript/solid-client-authn-browser/classes/_session_.session.html#login). Takes optional object of options, returns a promise
- `logout()`: function to [logout](https://docs.inrupt.com/developer-tools/api/javascript/solid-client-authn-browser/classes/_session_.session.html#logout), returns a promise

## Example Usage

This example gets the current session, and uses it to render different components depending on whether the user is logged in.

<Source
  code={`
import { useSession } from "@inrupt/solid-ui-react";
import LoginForm from "../components/loginForm";
import Profile from "../components/profile";
function Home() {
  const { session } = useSession();
  if (!session.info.isLoggedIn) {
    return <LoginForm />;
  }
  return <Profile />;
}
`}
/>
